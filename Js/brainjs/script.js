const net = new brain.NeuralNetwork();
const data = [
    {"input":{"r":0,"g":0,"b":0},"output":[1]},
    {"input":{"r":1,"g":1,"b":1},"output":[0]},
    {"input":{"r":0.08891604087452243,"g":0.6063366863498154,"b":0.9602540098869683},"output":[0]},
    {"input":{"r":0.32743146886319807,"g":0.31937527273015887,"b":0.3429484767173543},"output":[1]},
    {"input":{"r":0.16107632928040538,"g":0.9345837317958585,"b":0.6579934871088868},"output":[0]},
    {"input":{"r":0.7841833308097912,"g":0.5136425363823236,"b":0.5573864900778365},"output":[0]},
    {"input":{"r":0.10452629209027453,"g":0.8826306413511946,"b":0.14500842902828626},"output":[0]},
    {"input":{"r":0.6863290571353813,"g":0.8521050589912185,"b":0.3328299674407076},"output":[0]},
    {"input":{"r":0.316736682322178,"g":0.7214231177037114,"b":0.927981378588443},"output":[0]},
    {"input":{"r":0.3389143962343568,"g":0.37571881501285986,"b":0.9118203965501221},"output":[0]},
    {"input":{"r":0.8452861686946291,"g":0.4606503569022289,"b":0.9604590350817279},"output":[0]},
    {"input":{"r":0.15962954276018104,"g":0.9124299533008517,"b":0.7513171439610149},"output":[0]},
    {"input":{"r":0.32810359925108146,"g":0.678520827603345,"b":0.6699815196016428},"output":[0]},
    {"input":{"r":0.8875261419535161,"g":0.54971632550053,"b":0.499868162197739},"output":[0]},
    {"input":{"r":0.5475326177657458,"g":0.1414588503150236,"b":0.6729083081560343},"output":[1]},
    {"input":{"r":0.970486335464694,"g":0.4101877497456079,"b":0.28022037018507406},"output":[0]},
    {"input":{"r":0.5081927388208225,"g":0.5759305166214024,"b":0.46746604459457086},"output":[0]},
    {"input":{"r":0.757382171796581,"g":0.21869736989311095,"b":0.03780293450524885},"output":[1]},
    {"input":{"r":0.8064555569490823,"g":0.9840288630140974,"b":0.5129761354927656},"output":[0]},
    {"input":{"r":0.37340702450559293,"g":0.9022878679566384,"b":0.08109112720185796},"output":[0]},
    {"input":{"r":0.10939764149810505,"g":0.9512109734379455,"b":0.4988023714140648},"output":[0]},
    {"input":{"r":0.20281395309001238,"g":0.8067247284920673,"b":0.04607033293930174},"output":[1]},
    {"input":{"r":0.26472860879564486,"g":0.9892532477125939,"b":0.8499587063784724},"output":[0]},
    {"input":{"r":0.4993012377443722,"g":0.6916835416753842,"b":0.43748958466891397},"output":[0]},
    {"input":{"r":0.0003467644486059296,"g":0.5347452047514079,"b":0.8487111710543369},"output":[0]},
    {"input":{"r":0.991825303194267,"g":0.7016530741002123,"b":0.40260269185652353},"output":[0]},
    {"input":{"r":0.35602397456290347,"g":0.0328896289573859,"b":0.7320927270435718},"output":[1]},
    {"input":{"r":0.630827554728357,"g":0.6829983837950644,"b":0.6803473986477253},"output":[0]},
    {"input":{"r":0.9415229493540778,"g":0.936405860158618,"b":0.47013943218359455},"output":[0]},
    {"input":{"r":0.581412197651618,"g":0.9856089432083233,"b":0.6324673636971012},"output":[0]},
    {"input":{"r":0.7415352912736388,"g":0.9771907208869781,"b":0.010025652789886763},"output":[0]},
    {"input":{"r":0.900474324002297,"g":0.9586587033676084,"b":0.23946668889116673},"output":[0]},
    {"input":{"r":0.005952094509552364,"g":0.6082968299504818,"b":0.0611476402706812},"output":[1]},
    {"input":{"r":0.39355563412810235,"g":0.5274262336934237,"b":0.7412302931850068},"output":[1]},
    {"input":{"r":0.6828844044752955,"g":0.9049045987032815,"b":0.29471576307703806},"output":[0]},
    {"input":{"r":0.8841785558260897,"g":0.965338154717376,"b":0.9098087537874118},"output":[0]},
    {"input":{"r":0.06843615244060075,"g":0.5100547652668839,"b":0.5503212362353442},"output":[1]},
    {"input":{"r":0.4919351877694651,"g":0.5100914778223471,"b":0.900700104390322},"output":[1]},
    {"input":{"r":0.6828121891265331,"g":0.7460923151362258,"b":0.04731251121760094},"output":[0]},
    {"input":{"r":0.7986320846543176,"g":0.8594903307301107,"b":0.5284686047356368},"output":[0]},
    {"input":{"r":0.17277270157638047,"g":0.8628074487565154,"b":0.5763217673294079},"output":[0]},
    {"input":{"r":0.890145978209353,"g":0.29830685081225217,"b":0.6560497322643284},"output":[0]},
    {"input":{"r":0.49797673003221177,"g":0.4735337056634572,"b":0.28606883411916173},"output":[1]},
    {"input":{"r":0.08339478324895921,"g":0.7763795380641612,"b":0.12021992233213363},"output":[1]},
    {"input":{"r":0.2284102302493196,"g":0.5179301054025649,"b":0.027365651882452546},"output":[1]},
    {"input":{"r":0.3321145580035414,"g":0.6349079536983038,"b":0.4403374824717663},"output":[1]},
    {"input":{"r":0.32217043651517163,"g":0.7611564249291598,"b":0.6104724467245626},"output":[1]},
    {"input":{"r":0.8356623106830172,"g":0.6625696272605393,"b":0.898122024534501},"output":[0]},
    {"input":{"r":0.9774198188923975,"g":0.045911083033669975,"b":0.19389173404920412},"output":[0]},
    {"input":{"r":0.21997189624061209,"g":0.8215858766952859,"b":0.4982320766706725},"output":[0]},
    {"input":{"r":0.6023965142261289,"g":0.5476968779969795,"b":0.42234283411715556},"output":[0]},
    {"input":{"r":0.2988420336840636,"g":0.4236799836655465,"b":0.3022177730028337},"output":[1]},
    {"input":{"r":0.7295650969840177,"g":0.1606739604530225,"b":0.608578566546707},"output":[1]},
    {"input":{"r":0.5942137441381778,"g":0.29047337618588,"b":0.2003714894125337},"output":[1]},
    {"input":{"r":0.4960732496864029,"g":0.6323935893916457,"b":0.6035522546593126},"output":[1]},
    {"input":{"r":0.9263711973332633,"g":0.5767041314503913,"b":0.6210541578349247},"output":[0]},
    {"input":{"r":0.7622533806070997,"g":0.08979562443454414,"b":0.20274792901354144},"output":[1]},
    {"input":{"r":0.16118562796502367,"g":0.3586497611618855,"b":0.3441270787943833},"output":[1]},
    {"input":{"r":0.02009097039643959,"g":0.9094559552789201,"b":0.1300343036403917},"output":[0]},
    {"input":{"r":0.7092428785024554,"g":0.15587314369277472,"b":0.9320039138551288},"output":[1]},
    {"input":{"r":0.17247735212662585,"g":0.18014561230452641,"b":0.9509421518479035},"output":[1]},
    {"input":{"r":0.24645184095775674,"g":0.2455202279334825,"b":0.6568263368260119},"output":[1]},
    {"input":{"r":0.4151796087222841,"g":0.32306093761973376,"b":0.5633929561730886},"output":[1]},
    {"input":{"r":0.835019241693155,"g":0.034263169967837515,"b":0.9409219240306357},"output":[1]},
    {"input":{"r":0.9323309764885774,"g":0.40128236681451024,"b":0.5890662813799774},"output":[0]},
    {"input":{"r":0.6381504922952703,"g":0.4181700193402289,"b":0.7031144479693612},"output":[1]},
    {"input":{"r":0.7752266072335638,"g":0.8043260240856063,"b":0.07982672748503128},"output":[0]},
    {"input":{"r":0.6385117149659825,"g":0.03130528288922152,"b":0.6769496231478926},"output":[1]},
    {"input":{"r":0.7272324708259799,"g":0.3043332521624016,"b":0.5520183418744404},"output":[1]},
    {"input":{"r":0.30175251398416325,"g":0.2544178372760568,"b":0.314366860498003},"output":[1]},
    {"input":{"r":0.32870772736697185,"g":0.6960405960923977,"b":0.297222812716879},"output":[1]},
    {"input":{"r":0.2683785830403611,"g":0.6631606376729389,"b":0.8823047935409016},"output":[0]},
    {"input":{"r":0.28969121081774607,"g":0.4422504728436838,"b":0.8372287663130888},"output":[1]},
    {"input":{"r":0.10259792074842666,"g":0.1377422731969875,"b":0.41304449026504053},"output":[1]},
    {"input":{"r":0.26637248231293964,"g":0.783654857837367,"b":0.7522763368761964},"output":[0]},
    {"input":{"r":0.4427556364405414,"g":0.06497390635054368,"b":0.32279291159819334},"output":[1]},
    {"input":{"r":0.8228852230387607,"g":0.3515929999042182,"b":0.10738498895936699},"output":[0]},
    {"input":{"r":0.9664486302452193,"g":0.8470977790705665,"b":0.752880446173728},"output":[0]},
    {"input":{"r":0.5015093796050998,"g":0.35230482878734337,"b":0.8946088847427962},"output":[1]},
    {"input":{"r":0.35968266573358787,"g":0.40928838487613817,"b":0.3511267216824534},"output":[1]},
    {"input":{"r":0.3428844692592832,"g":0.11376095713650036,"b":0.5787304486143385},"output":[1]},
    {"input":{"r":0.1232583032492729,"g":0.8007376526203969,"b":0.47045024257382884},"output":[0]},
    {"input":{"r":0.06029805354344098,"g":0.24858287379134358,"b":0.9761035187064102},"output":[1]},
    {"input":{"r":0.37660165418196323,"g":0.11348265619815145,"b":0.016195115285242423},"output":[1]},
    {"input":{"r":0.20163478456053396,"g":0.6453068938749618,"b":0.6156330160864065},"output":[1]},
    {"input":{"r":0.6919489547353259,"g":0.11851646887725353,"b":0.5438199212132311},"output":[1]},
    {"input":{"r":0.48730312747556614,"g":0.4795810642199665,"b":0.5321511692622702},"output":[1]},
    {"input":{"r":0.0640209776411822,"g":0.19592030835198404,"b":0.8523836100678628},"output":[1]},
    {"input":{"r":0.8572795630402863,"g":0.2115870972228422,"b":0.1309206247538781},"output":[0]},
    {"input":{"r":0.1141153623324287,"g":0.6318653363038813,"b":0.2442904126342602},"output":[1]},
    {"input":{"r":0.7403487129177919,"g":0.9108466404210291,"b":0.8939618693853333},"output":[0]},
    {"input":{"r":0.3517004661236871,"g":0.3890485601938638,"b":0.8870061461410361},"output":[1]},
    {"input":{"r":0.088135073940516,"g":0.6514310032480706,"b":0.4142293754823372},"output":[1]},
    {"input":{"r":0.12187919951587944,"g":0.8520643334364864,"b":0.5437529450875676},"output":[0]},
    {"input":{"r":0.028134028486233476,"g":0.5266325524163173,"b":0.12753970980087925},"output":[1]},
    {"input":{"r":0.5772592079302117,"g":0.49944291761966797,"b":0.13613032142791637},"output":[1]},
    {"input":{"r":0.13896590404596076,"g":0.455504233864811,"b":0.1241170506957665},"output":[1]},
    {"input":{"r":0.9699428766395424,"g":0.3300608042457125,"b":0.13850552554822082},"output":[0]},
    {"input":{"r":0.6578788605424981,"g":0.7899977272075596,"b":0.5132492637267907},"output":[0]},
    {"input":{"r":0.8053241406753013,"g":0.3730297173373349,"b":0.8670845388811659},"output":[0]},
    {"input":{"r":0.8760009271908944,"g":0.9688560691396702,"b":0.9959050299162768},"output":[0]},
    {"input":{"r":0.17738093976646008,"g":0.9270106846443875,"b":0.9014891567637324},"output":[0]},
    {"input":{"r":0.4503584470909998,"g":0.8239446018761563,"b":0.7436424642723027},"output":[1]},
    {"input":{"r":0.2874527150559383,"g":0.27485700770312516,"b":0.528981510842341},"output":[1]},
    {"input":{"r":0.46568449866239536,"g":0.6532169987423151,"b":0.6678306436965122},"output":[1]},
    {"input":{"r":0.3489572203735365,"g":0.9119826680189054,"b":0.9491846872832368},"output":[0]},
    {"input":{"r":0.04686392119991045,"g":0.9970749645775652,"b":0.07480083759827139},"output":[0]},
    {"input":{"r":0.06262230706873617,"g":0.7147259366872787,"b":0.5408640115165866},"output":[1]},
    {"input":{"r":0.8511234398127996,"g":0.6109664216588437,"b":0.8884553494765439},"output":[0]},
    {"input":{"r":0.9856728926764928,"g":0.07383704826170834,"b":0.8024337458769537},"output":[0]},
    {"input":{"r":0.4460644338898372,"g":0.23085063894600655,"b":0.8432081485882033},"output":[1]},
    {"input":{"r":0.3961001083441533,"g":0.021533097711227356,"b":0.10972863293679991},"output":[1]},
    {"input":{"r":0.3201614955360965,"g":0.5234608407492309,"b":0.030627109170122457},"output":[1]},
    {"input":{"r":0.6513703051439177,"g":0.23371655995208918,"b":0.39612257130814066},"output":[1]}
]
net.train(data)

const diagram = document.getElementById("diagram");
diagram.innerHTML = brain.utilities.toSVG(net)

const colorEl = document.getElementById("color");
const guessEl = document.getElementById("guess");
const whitebtn = document.getElementById("white-btn");
const blackbtn = document.getElementById("black-btn");
const printbtn = document.getElementById("print-btn");
let color;

printbtn.addEventListener('click', () => {
    print()
})

whitebtn.addEventListener('click', () => {
    chooseColor(1);
})
blackbtn.addEventListener('click', () => {
    chooseColor(0);
})

function print() {
    console.log(JSON.stringify(data))
}

function chooseColor(value) {
    data.push({
        input: color,
        output: [value]
    })
    setRandomColor();
}

function setRandomColor() {
    color = {
        r: Math.random(),
        g: Math.random(),
        b: Math.random()
    }
    const guess = net.run(color)[0];
    guessEl.style.color = guess > .5 ? '#ffffff' : '#000000'
    colorEl.style.backgroundColor = 
    `rgba(${color.r * 255}, ${color.g * 255}, ${color.b * 255})`
}
setRandomColor();